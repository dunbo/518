{// 加载头部公共文件 }
<include file="../Public/header" />
<style type="text/css">
<!--
body,td,th {
	font-size: 12px;
}
.tb{ border-top:1px solid #666666;border-left:1px solid #666666;}
.tb th,.tb td{border-right:1px solid #666666; border-bottom:1px solid #666666;}
.tb tr {height:35px;}
.inpt {width:250px;height:20px;}
-->
</style>
<div class="main" >
<div class="content">

<form id="upload" method='post' action="__URL__/usersedit_edit/uid/{$userslist.dev_id}" enctype="multipart/form-data" onsubmit="return form_chk();">
<input type="hidden" name="preurl" id="preurl" value="{$preurl}" />
<input type="hidden" name="dev_id" id="dev_id" value="{$userslist.dev_id}" />
<center>
<table width="944" border="0" cellpadding="0" cellspacing="0" class="tb">
  <tr>
    <td colspan="3">编辑开发者：</td>
  </tr>
  <tr>
    <td width="239">开发者ID：</td>
    <td width="382">{$userslist.dev_id}</td>
    <td width="301"></td>
  </tr>
  <tr>
    <td width="239">类型：</td>
    <td width="382"><input type="radio" name="type" id="type" value="0" <?php if($userslist['type']==0){echo 'checked'; } ?> />公司&nbsp;&nbsp;<input type="radio" name="type" id="type" value="1"  <?php if($userslist['type']==1){echo 'checked'; } ?> />个人</td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">作者：</td>
    <td width="382"><input name="dev_name" type="text"  id="dev_name" value="{$userslist.dev_name}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">真实姓名：</td>
    <td width="382"><input name="truename" type="text"  id="truename" value="{$userslist.truename}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">电子邮件：</td>
    <td width="382"><input name="email" type="text"  id="email" value="{$userslist.email}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">手机号：</td>
    <td width="382"><input name="mobile" type="text"  id="mobile" value="{$userslist.mobile}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">开发者所在地：</td>
    <td width="382"><input type="radio" name="location" id="location" value="1" <?php if($userslist['location']==1){echo 'checked'; } ?> />中国大陆&nbsp;&nbsp;<input type="radio" name="location" id="location" value="2"  <?php if($userslist['location']==2){echo 'checked'; } ?> />港澳台和国外</td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">身份证号：</td>
    <td width="382"><input name="cardnumber" type="text"  id="cardnumber" value="{$userslist.cardnumber}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">身份证扫描件：</td>
    <td width="382"><input name="cardpic" type="file"  id="cardpic" value="{$userslist.cardpic}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span></td>
  </tr>
  <tr>
    <td width="239">营业执照：</td>
    <td width="382"><input name="charter" type="text"  id="charter" value="{$userslist.charter}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span><span style="font-weight:bold;">（若类型为个人，可不填）</font></td>
  </tr>
  <tr>
    <td width="239">营业执照扫描件：</td>
    <td width="382"><input name="charterpic" type="file" id="charterpic" value="{$userslist.charterpic}" class="inpt" /></td>
    <td width="301"><span style="color:red;">*</span><span style="font-weight:bold;">（若类型为个人，可不填）</font></td>
  </tr>
  <tr>
    <td width="239">联系IM类型：</td>
    <td width="382"><select name="im_type" id="im_type"><option value="1"<?php echo $userslist['im_type']==1 ? ' selected' : ''; ?>>QQ</option><option value="2"<?php echo $userslist['im_type']==2 ? ' selected' : ''; ?>>Gtalk</option><option value="3"<?php echo $userslist['im_type']==3 ? ' selected' : ''; ?>>Msn</option><option value="4"<?php echo $userslist['im_type']==4 ? ' selected' : ''; ?>>Skype</option></select></td>
    <td width="301"></td>
  </tr>
  <tr>
    <td width="239">联系IM号：</td>
    <td width="382"><input name="im_id" type="text"  id="im_id" value="{$userslist.im_id}" class="inpt" /></td>
    <td width="301"></td>
  </tr>
  <tr>
    <td width="239">固定电话：</td>
    <td width="382"><input name="phone" type="text"  id="phone" value="{$userslist.phone}" class="inpt" /></td>
    <td width="301"></td>
  </tr>
  <tr>
    <td width="239">邮编：</td>
    <td width="382"><input name="zipcode" type="text"  id="zipcode" value="{$userslist.zipcode}" class="inpt" /></td>
    <td width="301"></td>
  </tr>
  <tr>
    <td width="239">网站地址：</td>
    <td width="382"><input name="site" type="text"  id="site" value="{$userslist.site}" class="inpt" /></td>
    <td width="301"></td>
  </tr>
  <tr>
    <td colspan="3" ><input type="hidden" name="p" value="{$p}"><input type="submit" value='提交'/><input type="button" value='取消' onclick=" window.history.go(-1); "/></td>
 </tr>
</table>
</form>
</div>
</div>

<script language="javascript">
function form_chk() {
	var type = $('input:radio[name="type"]:checked').val();
	var loc = $('input:radio[name="location"]:checked').val();
	if($('#dev_name').val()=='') {
		alert('请填写作者（开发者）!');
		return false;
	}
	if($('#truename').val()=='') {
		alert('请填写真实姓名!');
		return false;
	}
	if($('#email').val()=='') {
		alert('请填写电子邮件!');
		return false;
	}
	if($('#email').val().indexOf('@')==-1) {
		alert('电子邮件格式不正确，请重填！');
		return false;
	}
	if($('#mobile').val()!='') {
		if(!/^1(3|5|8)\d{9}$/.test($('#mobile').val())) {
			alert('手机号格式错误，请重填！');
			return false;
		}
	}
	if($('#cardnumber').val()=='') {
		alert('请填写身份证号!');
		return false;
	}
	if(loc==1) {
		if(!/^[0-9]{18}$/.test($('#cardnumber').val()) && !/^[0-9]{17}[xX]{1}$/.test($('#cardnumber').val())) {
			alert('身份证号格式不正确，请重填！');
			return false;
		}
	}
	//if($('#cardpic').val()=='') {
	//	alert('请选择要上传的身份证扫描件!');
	//	return false;
	//}
	if(type==0 && $('#charter').val()=='') {
		alert('请填写营业执照!');
		return false;
	}
	//if(type==0 && $('#charterpic').val()=='') {
	//	alert('请选择要上传的营业执照扫描件!');
	//	return false;
	//}
	if($('#phone').val()!='' && !/^\d{2,4}-\d{7,8}$/.test($('#phone').val())) {
		alert('固定电话格式不正确，请重填！格式如：010-58858286');
		return false;
	}
	if($('#site').val()!='') {
		if(!/([\w-]+\.)+((com)|(net)|(org)|(gov\.cn)|(info)|(cc)|(com\.cn)|(net\.cn)|(org\.cn)|(name)|(biz)|(tv)|(cn)|(mobi)|(name)|(sh)|(ac)|(io)|(tw)|(com\.tw)|(hk)|(com\.hk)|(ws)|(travel)|(us)|(tm)|(la)|(me\.uk)|(org\.uk)|(ltd\.uk)|(plc\.uk)|(in)|(eu)|(it)|(jp)|(co)|(me)|(mx)|(ca)|(ag)|(com\.co)|(net\.co)|(nom\.co)|(com\.ag)|(net\.ag)|(fr)|(org\.ag)|(am)|(asia)|(at)|(be)|(bz)|(com\.bz)|(net\.bz)|(net\.br)|(com\.br)|(de)|(es)|(com\.es)|(nom\.es)|(org\.es)|(fm)|(gs)|(co\.in)|(firm\.in)|(gen\.in)|(ind\.in)|(net\.in)|(org\.in)|(jobs)|(ms)|(com\.mx)|(nl)|(nu)|(co\.nz)|(net\.nz)|(org\.nz)|(tc)|(tk)|(org\.tw)|(idv\.tw)|(co\.uk)|(vg)|(ad)|(ae)|(af)|(ai)|(al)|(an)|(ao)|(aq)|(ar)|(as)|(au)|(aw)|(az)|(ba)|(bb)|(bd)|(bf)|(bg)|(bh)|(bi)|(bj)|(bm)|(bn)|(bo)|(br)|(bs)|(bt)|(bv)|(bw)|(by)|(cd)|(cf)|(cg)|(ch)|(ci)|(ck)|(cl)|(cm)|(cr)|(cu)|(cv)|(cx)|(cy)|(cz)|(dj)|(dk)|(dm)|(do)|(dz)|(ec)|(ee)|(eg)|(er)|(et)|(fi)|(fj)|(fk)|(fo)|(ga)|(gd)|(ge)|(gf)|(gg)|(gh)|(gi)|(gl)|(gm)|(gn)|(gp)|(gq)|(gr)|(gt)|(gu)|(gw)|(gy)|(hm)|(hn)|(hr)|(ht)|(hu)|(id)|(ie)|(il)|(im)|(iq)|(ir)|(is)|(je)|(jm)|(jo)|(ke)|(kg)|(kh)|(ki)|(km)|(kn)|(kr)|(kw)|(ky)|(kz)|(lb)|(lc)|(li)|(lk)|(lr)|(ls)|(lt)|(lu)|(lv)|(ly)|(ma)|(mc)|(md)|(mg)|(mh)|(mk)|(ml)|(mm)|(mn)|(mo)|(mp)|(mq)|(mr)|(mt)|(mu)|(mv)|(mw)|(my)|(mz)|(na)|(nc)|(ne)|(nf)|(ng)|(ni)|(no)|(np)|(nr)|(nz)|(om)|(pa)|(pe)|(pf)|(pg)|(ph)|(pk)|(pl)|(pm)|(pn)|(pr)|(ps)|(pt)|(pw)|(py)|(qa)|(re)|(ro)|(ru)|(rw)|(sa)|(sb)|(sc)|(sd)|(se)|(sg)|(si)|(sk)|(sl)|(sm)|(sn)|(sr)|(st)|(sv)|(sy)|(sz)|(td)|(tf)|(tg)|(th)|(tj)|(tl)|(tn)|(to)|(tr)|(tt)|(tz)|(ua)|(ug)|(uk)|(uy)|(uz)|(va)|(vc)|(ve)|(vi)|(vn)|(vu)|(wf)|(ye)|(yt)|(yu)|(za)|(zm)|(zw))/.test($('#site').val())){
			alert("网站地址格式不正确，请重填！");
			return false;
		}
	}

	return true;
}
</script>
<!-- 主页面结束 -->
{// 加载尾部公共文件 }
 