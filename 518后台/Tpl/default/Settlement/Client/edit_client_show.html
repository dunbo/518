<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>

.red{color:red;}
.green{color:green;}
.box_input tr td input{height:31px !important;}
</style>
<script type="text/javascript" src="/Public/js/jquery-1.4.2.min.js"></script>
</head>
<body>
<form action="__URL__/edit_client_do" method="post">
<input type="hidden" name="url_suffix" value="{$url_suffix}"/>
<input type="hidden" id="client_id" name="id" value="{$client.id}"/>
	<table class="yahei box_input">
		<tr>
			<td style="padding:5px 20px;text-align:left !important;" colspan="3"><font color=red></font>应用推广><span onClick="window.history.go(-1)">客户管理</span>>编辑合同</td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red></font>基本信息</td>
		</tr>
		<tr>
                    <td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>客户名称：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="client_name" style="width:200px;" value="{$client.client_name}"id="input_client_name"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
                    <td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>客户类型：</td>
			<td style="padding:5px 20px;text-align:left !important;">
			<select name="client_type" id="input_client_type" style='width:207px;'>
					<option value="0" <?php if($client['client_type']==0){echo "selected='selected'";}?>>未选择</option>
					<option value="1" <?php if($client['client_type']==1){echo "selected='selected'";}?>>直投</option>
					<option value="2" <?php if($client['client_type']==2){echo "selected='selected'";}?>>代理</option>
				</select>
			<!-- <input type="text" name="client_type" style="width:200px;" id="input_client_type"/> -->
			</td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red></font>CPT广告</td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;">联系人：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="contact_name" style="width:200px;" value="{$client.contact_name}" id="input_contact_name"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;">联系方式：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="contact_phone" style="width:200px;" value="{$client.contact_phone}" id="input_contact_phone"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red></font>CPD广告</td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>公司名称：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="cpd_company" style="width:200px;" id="input_cpd_company" value="{$client.cpd_company}"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>公司地址：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="cpd_company_address" style="width:200px;" id="input_cpd_company_address" value="{$client.cpd_company_address}"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>联系人：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="cpd_contact_name" style="width:200px;" id="input_cpd_contact_name" value="{$client.cpd_contact_name}"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
		<tr>
			<td style="padding:5px 20px;text-align:left !important;"><font color=red>*</font>联系方式：</td>
			<td style="padding:5px 20px;text-align:left !important;"><input type="text" name="cpd_contact_phone" style="width:200px;" id="input_cpd_contact_phone"  value="{$client.cpd_contact_phone}"/></td>
			<td class="" style="padding:5px 20px;text-align:left !important;"></td>
		</tr>
	</table>
	<div style="margin:10px auto;padding:0px 30px;">
	<button class="btn btn-success yahei" type="submit" style="padding-left:20px;padding-right:20px;margin-left:100px;" onClick="javascript:return checkBeforeSubmit();">保存</button>
	<!-- <button class="btn btn-default yahei" type="button" onClick="tb_remove()"style="padding-left:20px;padding-right:20px;margin-left:30px;">取消</button> -->
	<button class="btn btn-default yahei" type="button" onClick="window.history.go(-1)" style="padding-left:20px;padding-right:20px;margin-left:30px;">取消</button>
	</div>
</form>
<script>
$(function(){
	$("#input_client_name").change(function(){
		if($(this).val() == "" || $(this).val() == undefined)
		{
			$(this).parent().next().text("请填写客户名称!").addClass('red');
			$(this).css({border:"1px solid red"});
			return ;
		}
		var client_name = $(this).val();
		$.ajax({
			url:"__URL__/ajax_check_client_name/source/edit/id/"+$("#client_id").val(),
			type:"post",
			dateType:"html",
			data:"client_name="+client_name,
			success:function(returnData){
				//处理返回数据
				if(returnData == "3")
				{
					$("#input_client_name").parent().next().text("该客户已存在!").addClass('red');
					$("#input_client_name").css({border:"1px solid red"});
					return ;
				}else{
					$("#input_client_name").parent().next().text("");
					$("#input_client_name").css({border:"1px solid gray"});
					return ;
				}
			}
		});
	});
})
// function checkBeforeSubmit()
// {
// 	var i = 1;
// 	if($("#input_client_name").val() == "" || $("#input_client_name").val().length == 0)
// 	{
// 		$("#input_client_name").css({border:"1px solid red"}).parent().next().text("请填写客户名称!").addClass('red');
// 		i = 0;
// 	}
// 	if($("#input_contact_name").val() == "" || $("#input_contact_name").val().length == 0)
// 	{
// 		$("#input_contact_name").css({border:"1px solid red"}).parent().next().text("请填写联系人名称!").addClass('red');
// 		i = 0;
// 	}
// 	if($("#input_contact_phone").val() == "" || $("#input_contact_phone").val().length == 0)
// 	{
// 		$("#input_contact_phone").css({border:"1px solid red"}).parent().next().text("请填写联系人电话!").addClass('red');
// 		i = 0;
// 	}
// 	if(i == 0)
// 	{
// 		return false;
// 	}
// 	else
// 	{
// 		return true;
// 	}

// }
function checkBeforeSubmit()
{
	var i = 1;
	if($("#input_client_name").val() == "" || $("#input_client_name").val().length == 0)
	{
		$("#input_client_name").css({border:"1px solid red"}).parent().next().text("请填写客户名称!").addClass('red');
		i = 0;
	}
	if($("#input_contact_name").val().length >10)
	{
		$("#input_contact_name").css({border:"1px solid red"}).parent().next().text("联系人名称10个字符以内!").addClass('red');
		i = 0;
	}
	if($("#input_contact_phone").val().length >20)
	{
		$("#input_contact_phone").css({border:"1px solid red"}).parent().next().text("联系人电话20个字符以内!").addClass('red');
		i = 0;
	}
	if($("#input_cpd_contact_name").val().length>10||$("#input_cpd_contact_name").val()=='')
	{
		$("#input_cpd_contact_name").css({border:"1px solid red"}).parent().next().text("联系人名称10个字符以内!").addClass('red');
		i = 0;
	}
	if($("#input_cpd_contact_phone").val().length >20||$("#input_cpd_contact_phone").val()=='')
	{
		$("#input_cpd_contact_phone").css({border:"1px solid red"}).parent().next().text("联系人电话20个字符以内!").addClass('red');
		i = 0;
	}
	
	if($("#input_cpd_company").val()=='')
	{
		$("#input_cpd_company").css({border:"1px solid red"}).parent().next().text("公司地址不能为空!").addClass('red');
		i = 0;
	}
	
	if($("#input_cpd_company_address").val()=='')
	{
		$("#input_cpd_company_address").css({border:"1px solid red"}).parent().next().text("公司地址不能为空!").addClass('red');
		i = 0;
	}
	
	
	if(i == 0)
	{
		return false;
	}
	else
	{
		return true;
	}

}
</script>
{// 加尾部公共文件 }
</body>
</html>