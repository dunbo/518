<div id="open" style="padding:10px; display:none;">
<table width="100%" border="0" cellpadding="0" cellspacing="0" >
<tr><td><font size='3' style="color:#000; font-weight:bold">软件类型</font></td><td><input type="checkbox" id="cid_all[]" name="cid_all[]" onclick="cid_selectAll(this);">全选</td></tr><br/>
</table>		
<volist name='cname' id='vo' key='k'>
<table width="100%" border="0" cellpadding="0" cellspacing="0" >
	<tr><td><input type="checkbox" onclick="$('input[rel={$vo.category_id}]').attr('checked', $(this).attr('checked') == 'checked');refreshCatid();"/><strong>{$vo.name}</strong></td></tr>
	<tr>
	<td colspan='3'>----------------------------------------------------------------------</td></tr>
	<tr>
	<volist name="vo['sub']" id = 'v' key='m'> 
	<td><input rel="{$vo.category_id}" onclick='catid()' type="checkbox" name="catid[]" value="{$v.category_id}" <if condition="isset($cateid[$v['category_id']])">checked='true'</if>/>&nbsp;&nbsp;&nbsp;{$v.name}</td>
	<if condition="$m % 3 eq 0 "></tr><tr></if>
	</volist><br/>
	</volist>
</table>
</div>


<script type="text/javascript">
function openw(){	
	$("#open").zxxbox();
}
function catid(){
	refreshCatid();
}
function refreshCatid()
{
	var ids = '';
	$("input[name='catid[]']").each(function(){
		if (this.checked) {
			ids+= $(this).val() + ',';
		}
		$('#cateid').val(ids);

	});
}
</script>